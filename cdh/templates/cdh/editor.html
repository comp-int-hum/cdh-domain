{% load i18n %}

{% if widget.attrs.readonly == "true" %}
{{widget.value}}
{% else %}
<div field_name="{{widget.name}}"
     value_id="{{widget.value_id}}"
     {% if widget.attrs.endpoint %}
     output_id="{{widget.output_id}}"
     endpoint_url="{% url widget.attrs.endpoint %}"
     {% endif %}
     class="{% if widget.class %}{{widget.class}}{% else %}cdh-editor{% endif %} container-fluid"
     {% if model_name %}model_name="{{model_name}}"{% endif %}
     {% if app_label %}app_label="{{app_label}}"{% endif %}
     {% if pk %}pk="{{pk}}"{% endif %}     
     {% include "django/forms/widgets/attrs.html" %}
     style="width: 800px; height: 200px; border: 1px solid grey">
</div>


{{ widget.list_value|json_script:widget.value_id }}
<input type="hidden"
       name="{{widget.name}}"
       {% if False and widget.attrs.endpoint %}
       hx-post="{% url widget.attrs.endpoint %}"
       hx-trigger="space delay:2500ms"
       hx-target="#{{widget.output_id}}"
       hx-swap="innerHTML"
       hx-select="#top_level_content"
       {% endif %}
       id="{{widget.name}}-hidden"
       value="{{widget.value}}"/>
{{ widget.hidden.attrs }}

{% endif %}

{% if widget.attrs.endpoint %}
<div id="{{widget.output_id}}" class="container">
</div>
{% endif %}
